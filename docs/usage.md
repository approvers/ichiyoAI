# ichiyoAI: 使い方

----

- [ichiyoAI: 使い方](#ichiyoai-使い方)
  - [ichiyoAI と会話する](#ichiyoai-と会話する)
    - [チャットモード](#チャットモード)
    - [返信モード](#返信モード)
      - [不必要なメッセージにはメンションを取り除いて!](#不必要なメッセージにはメンションを取り除いて)
    - [使用されるモデル](#使用されるモデル)
  - [注意事項](#注意事項)

----

## ichiyoAI と会話する

### チャットモード

ichiyoAI にアクセス権限が渡されているチャンネルもしくはスレッドで `@ichiyoAI` とメンションを送信します。

メンションはどこでも構いません。OpenAI API に渡される際にメンションは取り除かれます。

このチャットモードでは、会話のコンテキストを維持せず常に **一問一答** の状態で会話を続けます。

### 返信モード

**ichiyoAI のメッセージ** に対して返信(メンションあり)すると、返信モードになります。

このモードでは、**返信元のメッセージ + 返信メッセージ** の内容をコンテキストとして会話を続けます。
返信を繰り返すことで、より長いコンテキストを保持することができます。

#### 不必要なメッセージにはメンションを取り除いて!

メンションでのリプライはすべて返信モードとして扱われます。不必要なメッセージはトークン節約の為 OFF にしてください。

### 使用されるモデル

使用されるモデルについては限界税納税者と非納税者で異なります。

- **納税者:** GPT-4
- **非納税者:** GPT-3.5

非納税者が GPT-4 のメッセージに対して返信モードを使用してもそれらのコンテキストを GPT-3.5 として使用し、返信します。

逆に納税者が GPT-3.5 を使用することはできません。

## 注意事項

- OpenAI API 側からのレスポンスの文字数が 2000 文字を超えた場合、ichiyoAI は返信せずに終了します。
- 現時点で、 OpenAI は API 経由での利用についてモデルのトレーニングには使用しないと明言していますが、機密情報等を送信することは避けてください。(ichiyoAI 側で会話のログ等は一切収集していませんが、一度 Discord API を経由しているため危険ではあります。)
- OpenAI API へリクエストを送ってから2分以上かかった場合は tokio により自動的にタイムアウトになります。もう一度送るか、内容を見直してみてください。
